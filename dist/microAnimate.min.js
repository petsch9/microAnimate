"use strict";!function(a){function b(){var a=arguments.length<=0||void 0===arguments[0]?document.body:arguments[0],b=arguments.length<=1||void 0===arguments[1]?{"0%":[["width","200px"],["color","transparent"],function(){console.log("callback 1")}],"20%":[["width","100px"],["color","white"],function(){console.log("callback 2")}],"100%":[["width","60px"],["color","red"],function(){console.log("callback 3")}]}:arguments[1],d=arguments.length<=2||void 0===arguments[2]?{duration:2e3,ticklength:30,smoothing:!0,callbackTolerance:2.5}:arguments[2];return new c(a,b,d)}var c=function(b,c,d){function e(a){function b(a,b){function c(a){new RegExp("[0-9]+px")}if("function"!=typeof a)if(-1===e.indexOf(a[0]))e.push(a[0]),d.push([a[0],[a[1]]]);else{var f=a[0],g=a[1];c(f,g);d[e.indexOf(a[0])][1].push(a[1])}}for(var c=a,d=[],e=[],f=0,g=0;100>=g;g++)"undefined"!=typeof c[g]&&(f=g),c[f].forEach(b);return console.log(d),d}function f(a){var b=[];return console.log(a),Object.keys(a).forEach(function(c){a[c].forEach(function(a){"function"==typeof a&&(b[c]=a)})}),b}function g(a){var b=Object.keys(a),c=[],d={};return b.forEach(function(b){"from"===b?(a["0%"]=a[b],delete a[b]):"to"===b&&(a["100%"]=a[b],delete a[b])}),c=Object.keys(a),c.forEach(function(a,b){c[b]=parseInt(a.replace("%",""))}),c.sort(),c.forEach(function(b){d[b]=a[b+"%"]}),d}function h(a){var b=[];return b.join(", ")}this.element=b,this.animation=g(c),this.opt=d,this.opt.totalTicks=d.duration/d.ticklength,this.interval=a.setInterval(function(){},1e3),this.animMap=e(this.animation,this.opt.totalTicks),this.callbacks=f(this.animation,this.opt.totalTicks),this.opt.smoothing&&(this.transition=h(this.animMap))};c.prototype.start=function(){function b(a,b,c){b.forEach(function(b,d){"undefined"!=typeof b[1][c]&&(console.log(c+": "+b[0]+"="+b[1][c]),a.style[b[0]]=b[1][c])})}function c(a,b,c,d,e){for(var f=Math.round(100*d/e),h=b,i=c-f,j=c+f;j>=i;i++)a[i]&&-1===b.indexOf(a[i])&&(a[i](g),h.push(a[i]));return h}function d(){a.clearInterval(g.interval)}console.log(this);var e=0,f=0,g=this,h=[];b(g.element,g.animMap,0),g.opt.smoothing&&(g.element.style.transition=g.transition),g.interval=a.setInterval(function(){e++,f=Math.round(100/g.opt.totalTicks*e),f=100>f|100,b(g.element,g.animMap,f),e>g.opt.totalTicks&&d(),h=c(g.callbacks,h,f,g.opt.callbackTolerance,g.opt.totalTicks)},g.opt.ticklength)},c.prototype.pause=function(){a.setInterval(this,1/0)},c.prototype.stop=function(){a.clearInterval(self.interval)},a.microAnimate=b,a.Anim=b}(window);